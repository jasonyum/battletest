<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: src/generate/randGen.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: src/generate/randGen.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** Class representing a random generator */
class RandGen {
  /**
  * Generator for certain primitive data type.
  * @param {string} type - type of primitive data to randomly generate. 
  * @param {string} [items] - data type of elements in an array to randomly generate.
  */

  constructor(type, items) {
    this.type = type; // data type
    this.items = items; // if array, data type of the elements of the array
    this.func = this.switcheroo(this.type); // function to be used to generate values
    this.ind = 0;
  }

  /** 
  * @param {boolean} ran Option to generate a true random value with no descript
  * @returns {string} random string of size n
  */
  str(ran) {
    const strs = [
      { val: 'string', descript: 'Normal string' },
      { val: '*'.repeat(256), descript: 'Extremely long string' },
      {
        val: 'SELECT * FROM information_schema.tables',
        descript: 'Postgres SQL injection',
      },
      { val: -20, descript: 'Negative number' },
      { val: Number.POSITIVE_INFINITY, descript: 'positive infinity' },
    ];

    if (this.ind &lt; strs.length &amp;&amp; !ran) return strs[this.ind++];
    if (!ran) {
      return {
        val: [...Array(10)]
          .map((i) => (~~(Math.random() * 36)).toString(36))
          .join(''),
        descript: 'random string',
      };
    }
    return [...Array(10)]
      .map((i) => (~~(Math.random() * 36)).toString(36))
      .join('');
  }

  /** @param {boolean} ran Option to generate a true random value
     *  or the next value of this.nums, false by default
     *  @returns {number} a random number or the next value of this.nums
     */
  num(ran) {
    const nums = [
      { val: 5, descript: 'Normal number' },
      // { val: 0, descript: "Zero" },
      // { val: -1, descript: "Negative number" },
      { val: Number.MAX_SAFE_INTEGER, descript: '2^53 - 1' },
      { val: Number.MIN_SAFE_INTEGER, descript: '-(2^53 - 1)' },
      { val: Number.MAX_VALUE, descript: '1.79e+308' },
      { val: Number.POSITIVE_INFINITY, descript: 'positive infinity' },
      { val: Number.NEGATIVE_INFINITY, descript: 'negative infinity' },
    ];
    if (this.ind &lt; nums.length &amp;&amp; !ran) return nums[this.ind++];
    if (!ran) return { val: Math.random() * 256, descript: 'random number' };
    return Math.random() * 256;
  }

  /** @returns {boolean} true or false at random
     */
  bool() {
    return Math.random() > 0.5;
  }

  /** @param {string} type Primitive (or reference) value type
     *  @param {number} len Length of randomly generated array, 5 by default
     *  @returns {array} an array of randomly generated elements of specified type
     */
  arr(type) {
    const func2 = context.switcheroo(type);
    // const retArr = [...Array(5)];
    return [...Array(5)].map((i) => func2(true));
    // return retArr;
  }

  /** @param {object} props reference to the object's properties and their type
     *  @returns {object} returns a new object containing randomly generated values for each specified key
     */
  obj(props) {
    const newObj = {};
    Object.keys(props).forEach((key) => {
      const func = this.switcheroo(props[key].type);
      newObj[key] = func();
    }, this);
    return newObj;
  }

  /**
     *
     * @returns a random value of specified type by this.type, initally returns a constant normal value
     */
  next() {
    if (this.type === 'array') {
      if (this.items === 'number' || this.items === 'integer') {
        return {
          val: [...Array(5)].map((i) => Math.random() * 256),
          descript: 'Random array of numbers',
        };
      }
      return {
        val: [...Array(5)].map((i) => [...Array(10)]
          .map((i) => (~~(Math.random() * 36)).toString(36))
          .join('')),
        descript: 'Random array of strings',
      };
    } return this.func();
  }

  /** @param {string} type Primitive (or reference) value type
     *  @returns {function} method of randGen to generate the specified data type
     */
  switcheroo(type) {
    switch (type) {
      case 'string':
        return this.str;
      case 'integer':
      case 'number':
        return this.num;
      case 'boolean':
        return this.bool;
      case 'array':
        return this.arr;
        break;
        //   case 'object':
        //     func = this.obj;
        //     break;
        // currently breaks when inputting another array or object type
      default:
        return () => null;
    }
  }
}

module.exports = RandGen;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="GenArray.html">GenArray</a></li><li><a href="GenBoolean.html">GenBoolean</a></li><li><a href="GenNumber.html">GenNumber</a></li><li><a href="GenString.html">GenString</a></li><li><a href="RandGen.html">RandGen</a></li></ul><h3>Global</h3><ul><li><a href="global.html#BattleReporter">BattleReporter</a></li><li><a href="global.html#bin/cmds/generate">bin/cmds/generate</a></li><li><a href="global.html#bin/cmds/init">bin/cmds/init</a></li><li><a href="global.html#bin/cmds/start">bin/cmds/start</a></li><li><a href="global.html#bin/src/generate/generateDescribe">bin/src/generate/generateDescribe</a></li><li><a href="global.html#bin/src/util/ceckFiles">bin/src/util/ceckFiles</a></li><li><a href="global.html#fs">fs</a></li><li><a href="global.html#help">help</a></li><li><a href="global.html#src/generate/generateSingleTest">src/generate/generateSingleTest</a></li><li><a href="global.html#src/generate/generateTestSetup">src/generate/generateTestSetup</a></li><li><a href="global.html#writeLog">writeLog</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Thu Apr 23 2020 15:09:25 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
